(function () {

    /* ==== definitions ==== */
    
    var diapo = [], layers = [], ctx, pointer, scr, camera, light, fps = 0, quality = [1,2],
    
    // ---- poly constructor ----
    
    Poly = function (parent, face) {
    
    this.parent = parent;
    
    this.ctx = ctx;
    
    this.color = face.fill || false;
    
    this.points = [];
    
    if (!face.img) {
    
    // ---- create points ----
    
    for (var i = 0; i < 4; i++) {
    
    this.points[i] = new ge1doot.transform3D.Point(
    
    parent.pc.x + (face.x[i] * parent.normalZ) + (face.z[i] * parent.normalX),
    
    parent.pc.y + face.y[i],
    
    parent.pc.z + (face.x[i] * parent.normalX) + (-face.z[i] * parent.normalZ)
    
    );
    
    }
    
    this.points[3].next = false;
    
    }
    
    },
    
    // ---- diapo constructor ----
    
    Diapo = function (path, img, structure) {
    
    // ---- create image ----
    
    this.img = new ge1doot.transform3D.Image(
    
    this, path + img.img, 1, {
    
    isLoaded: function(img) {
    
    img.parent.isLoaded = true;
    
    img.parent.loaded(img);
    
    }
    
    }
    
    );
    
    this.visible = false;
    
    this.normalX = img.nx;
    
    this.normalZ = img.nz;
    
    // ---- point center ----
    
    this.pc = new ge1doot.transform3D.Point(img.x, img.y, img.z);
    
    // ---- target positions ----
    
    this.tx = img.x + (img.nx * Math.sqrt(camera.focalLength) * 20);
    
    this.tz = img.z - (img.nz * Math.sqrt(camera.focalLength) * 20);
    
    // ---- create polygons ----
    
    this.poly = [];
    
    for (var i = -1, p; p = structure[++i]üòâ {
    
    layers[i] = (p.img === true ? 1 : 2);
    
    this.poly.push(
    
    new Poly(this, p)
    
    );
    
    }
    
    },
    
    // ---- init section ----
    
    init = function (json) {
    
    // draw poly primitive
    
    Poly.prototype.drawPoly = ge1doot.transform3D.drawPoly;
    
    // ---- init screen ----
    
    scr = new ge1doot.Screen({
    
    container: ‚Äúcanvas‚Äù
    
    });
    
    ctx = scr.ctx;
    
    scr.resize();
    
    // ---- init pointer ----
    
    pointer = new ge1doot.Pointer({
    
    tap: function () {
    
    if (camera.over) {
    
    if (camera.over === camera.target.elem) {
    
    // ---- return to the center ----
    
    camera.target.x = 0;
    
    camera.target.z = 0;
    
    camera.target.elem = false;
    
    } else {
    
    // ---- goto diapo ----
    
    camera.target.elem = camera.over;
    
    camera.target.x = camera.over.tx;
    
    camera.target.z = camera.over.tz;
    
    // ---- adapt tesselation level to distance ----
    
    for (var i = 0, d; d = diapo[i++]üòâ {
    
    var dx = camera.target.x - d.pc.x;
    
    var dz = camera.target.z - d.pc.z;
    
    var dist = Math.sqrt(dx * dx + dz * dz);
    
    var lev = (dist > 1500) ? quality[0] : quality[1];
    
    d.img.setLevel(lev);
    
    }
    
    }
    
    }
    
    }
    
    });
    
    // ---- init camera ----
    
    camera = new ge1doot.transform3D.Camera({
    
    focalLength: Math.sqrt(scr.width) * 10,
    
    easeTranslation: 0.025,
    
    easeRotation: 0.06,
    
    disableRz: true
    
    }, {
    
    move: function () {
    
    this.over = false;
    
    // ---- rotation ----
    
    if (pointer.isDraging) {
    
    this.target.elem = false;
    
    this.target.ry = -pointer.Xi * 0.01;
    
    this.target.rx = (pointer.Y - scr.height * 0.5) / (scr.height * 0.5);
    
    } else {
    
    if (this.target.elem) {
    
    this.target.ry = Math.atan2(
    
    this.target.elem.pc.x - this.x,
    
    this.target.elem.pc.z - this.z
    
    );
    
    }
    
    }
    
    this.target.rx *= 0.9;
    
    }
    
    });
    
    camera.z = -10000;
    
    camera.py = 0;
    
    // ---- create images ----
    
    for (var i = 0, img; img = json.imgdata[i++]üòâ {
    
    diapo.push(
    
    new Diapo(
    
    json.options.imagesPath,
    
    img,
    
    json.structure
    
    )
    
    );
    
    }
    
    // ---- start engine ---- >>>
    
    setInterval(function() {
    
    quality = (fps > 50) ? [2,3] : [1,2];
    
    fps = 0;
    
    }, 1000);
    
    run();
    
    },
    
    // ---- main loop ----
    
    run = function () {
    
    // ---- clear screen ----
    
    ctx.clearRect(0, 0, scr.width, scr.height);
    
    // ---- camera ----
    
    camera.move();
    
    // ---- draw layers ----
    
    for (var k = -1, l; l = layers[++k]üòâ {
    
    light = false;
    
    for (var i = 0, d; d = diapo[i++]üòâ {
    
    (l === 1 && d.draw()) ||
    
    (d.visible && d.poly[k].draw());
    
    }
    
    }
    
    // ---- cursor ----
    
    if (camera.over && !pointer.isDraging) {
    
    scr.setCursor(‚Äúpointer‚Äù);
    
    } else {
    
    scr.setCursor(‚Äúmove‚Äù);
    
    }
    
    // ---- loop ----
    
    fps++;
    
    requestAnimFrame(run);
    
    };
    
    /* ==== prototypes ==== */
    
    Poly.prototype.draw = function () {
    
    // ---- color light ----
    
    var c = this.color;
    
    if (c.light || !light) {
    
    var s = c.light ? this.parent.light : 1;
    
    // ---- rgba color ----
    
    light = ‚Äúrgba(‚Äù +
    
    Math.round(c.r * s) + ‚Äú,‚Äù +
    
    Math.round(c.g * s) + ‚Äú,‚Äù +
    
    Math.round(c.b * s) + ‚Äú,‚Äù + (c.a || 1) + ‚Äú)‚Äù;
    
    ctx.fillStyle = light;
    
    }
    
    // ---- paint poly ----
    
    if (!c.light || this.parent.light < 1) {
    
    // ---- projection ----
    
    for (
    
    var i = 0;
    
    this.points[i++].projection();
    
    );
    
    this.drawPoly();
    
    ctx.fill();
    
    }
    
    }
    
    /* ==== image onload ==== */
    
    Diapo.prototype.loaded = function (img) {
    
    // ---- create points ----
    
    var d = [-1,1,1,-1,1,1,-1,-1];
    
    var w = img.texture.width * 0.5;
    
    var h = img.texture.height * 0.5;
    
    for (var i = 0; i < 4; i++) {
    
    img.points[i] = new ge1doot.transform3D.Point(
    
    this.pc.x + (w * this.normalZ * d[i]),
    
    this.pc.y + (h * d[i + 4]),
    
    this.pc.z + (w * this.normalX * d[i])
    
    );
    
    }
    
    }
    
    /* ==== images draw ==== */
    
    Diapo.prototype.draw = function () {
    
    // ---- visibility ----
    
    this.pc.projection();
    
    if (this.pc.Z > -(camera.focalLength >> 1) && this.img.transform3D(true)) {
    
    // ---- light ----
    
    this.light = 0.5 + Math.abs(this.normalZ * camera.cosY - this.normalX * camera.sinY) * 0.6;
    
    // ---- draw image ----
    
    this.visible = true;
    
    this.img.draw();
    
    // ---- test pointer inside ----
    
    if (pointer.hasMoved || pointer.isDown) {
    
    if (
    
    this.img.isPointerInside(
    
    pointer.X,
    
    pointer.Y
    
    )
    
    ) camera.over = this;
    
    }
    
    } else this.visible = false;
    
    return true;
    
    }
    
    return {
    
    // ‚Äî load data ----
    
    load : function (data) {
    
    window.addEventListener(‚Äòload‚Äô, function () {
    
    ge1doot.loadJS(
    
    ‚Äújs/imageTransform3D.js‚Äù,
    
    init, data
    
    );
    
    }, false);
    
    }
    
    }
    
    })().load({
    
    imgdata:[
    
    // north
    
    {img:‚Äòimgs/1.jpg‚Äô, x:-1000, y:0, z:1500, nx:0, nz:1},
    
    {img:‚Äòimgs/2.jpg‚Äô, x:0, y:0, z:1500, nx:0, nz:1},
    
    {img:‚Äòimgs/3.jpg‚Äô, x:1000, y:0, z:1500, nx:0, nz:1},
    
    // east
    
    {img:‚Äòimgs/4.jpg‚Äô, x:1500, y:0, z:1000, nx:-1, nz:0},
    
    {img:‚Äòimgs/5.jpg‚Äô, x:1500, y:0, z:0, nx:-1, nz:0},
    
    {img:‚Äòimgs/6.jpg‚Äô, x:1500, y:0, z:-1000, nx:-1, nz:0},
    
    // south
    
    {img:‚Äòimgs/7.jpg‚Äô, x:1000, y:0, z:-1500, nx:0, nz:-1},
    
    {img:‚Äòimgs/8.jpg‚Äô, x:0, y:0, z:-1500, nx:0, nz:-1},
    
    {img:‚Äòimgs/9.jpg‚Äô, x:-1000, y:0, z:-1500, nx:0, nz:-1},
    
    // west
    
    {img:‚Äòimgs/10.jpg‚Äô, x:-1500, y:0, z:-1000, nx:1, nz:0},
    
    {img:‚Äòimgs/11.jpg‚Äô, x:-1500, y:0, z:0, nx:1, nz:0},
    
    {img:‚Äòimgs/12.jpg‚Äô, x:-1500, y:0, z:1000, nx:1, nz:0}
    
    ],
    
    structure:[
    
    {
    
    // wall
    
    fill: {r:255, g:255, b:255, light:1},
    
    x: [-1001,-490,-490,-1001],
    
    z: [-500,-500,-500,-500],
    
    y: [500,500,-500,-500]
    
    },{
    
    // wall
    
    fill: {r:255, g:255, b:255, light:1},
    
    x: [-501,2,2,-500],
    
    z: [-500,-500,-500,-500],
    
    y: [500,500,-500,-500]
    
    },{
    
    // wall
    
    fill: {r:255, g:255, b:255, light:1},
    
    x: [0,502,502,0],
    
    z: [-500,-500,-500,-500],
    
    y: [500,500,-500,-500]
    
    },{
    
    // wall
    
    fill: {r:255, g:255, b:255, light:1},
    
    x: [490,1002,1002,490],
    
    z: [-500,-500,-500,-500],
    
    y: [500,500,-500,-500]
    
    },{
    
    // shadow
    
    fill: {r:0, g:0, b:0, a:0.2},
    
    x: [-420,420,420,-420],
    
    z: [-500,-500,-500,-500],
    
    y: [150, 150,-320,-320]
    
    },{
    
    // shadow
    
    fill: {r:0, g:0, b:0, a:0.2},
    
    x: [-20,20,20,-20],
    
    z: [-500,-500,-500,-500],
    
    y: [250, 250,150,150]
    
    },{
    
    // shadow
    
    fill: {r:0, g:0, b:0, a:0.2},
    
    x: [-20,20,20,-20],
    
    z: [-500,-500,-500,-500],
    
    y: [-320, -320,-500,-500]
    
    },{
    
    // shadow
    
    fill: {r:0, g:0, b:0, a:0.2},
    
    x: [-20,20,10,-10],
    
    z: [-500,-500,-100,-100],
    
    y: [-500, -500,-500,-500]
    
    },{
    
    // base
    
    fill: {r:32, g:32, b:32},
    
    x: [-50,50,50,-50],
    
    z: [-150,-150,-50,-50],
    
    y: [-500,-500,-500,-500]
    
    },{
    
    // support
    
    fill: {r:16, g:16, b:16},
    
    x: [-10,10,10,-10],
    
    z: [-100,-100,-100,-100],
    
    y: [300,300,-500,-500]
    
    },{
    
    // frame
    
    fill: {r:255, g:255, b:255},
    
    x: [-320,-320,-320,-320],
    
    z: [0,-20,-20,0],
    
    y: [-190,-190,190,190]
    
    },{
    
    // frame
    
    fill: {r:255, g:255, b:255},
    
    x: [320,320,320,320],
    
    z: [0,-20,-20,0],
    
    y: [-190,-190,190,190]
    
    },
    
    {img:true},
    
    {
    
    // ceilingLight
    
    fill: {r:255, g:128, b:0},
    
    x: [-50,50,50,-50],
    
    z: [450,450,550,550],
    
    y: [500,500,500,500]
    
    },{
    
    // groundLight
    
    fill: {r:255, g:128, b:0},
    
    x: [-50,50,50,-50],
    
    z: [450,450,550,550],
    
    y: [-500,-500,-500,-500]
    
    }
    
    ],
    
    options:{
    
    imagesPath: ‚Äú‚Äù
    
    }
    
    });
    
    ‰Ω†ÁöÑÊµèËßàÂô®‰∏çÊîØÊåÅHTML5ÁîªÂ∏ÉÊäÄÊúØÔºåËØ∑‰ΩøÁî®Ë∞∑Ê≠åÊµèËßàÂô®„ÄÇ
    
    jsÊñá‰ª∂ÁõÆÂΩïÔºö
    
    
    
    ge1doot.js
    
    var ge1doot = ge1doot || {
    
    json: null,
    
    screen: null,
    
    pointer: null,
    
    camera: null,
    
    loadJS: function (url, callback, data) {
    
    if (typeof url == ‚Äústring‚Äù) url = [url];
    
    var load = function (src) {
    
    var script = document.createElement(‚Äúscript‚Äù);
    
    if (callback) {
    
    if (script.readyState){
    
    script.onreadystatechange = function () {
    
    if (script.readyState == ‚Äúloaded‚Äù || script.readyState == ‚Äúcomplete‚Äù){
    
    script.onreadystatechange = null;
    
    if (‚Äìn === 0) callback(data || false);
    
    }
    
    }
    
    } else {
    
    script.onload = function() {
    
    if (‚Äìn === 0) callback(data || false);
    
    }
    
    }
    
    }
    
    script.src = src;
    
    document.getElementsByTagName(‚Äúhead‚Äù)[0].appendChild(script);
    
    }
    
    for (var i = 0, n = url.length; i < n; i++) load(url[i]);
    
    }
    
    }
    
    // ===== html/canvas container =====
    
    ge1doot.Screen = function (setup) {
    
    ge1doot.screen = this;
    
    this.elem = document.getElementById(setup.container) || setup.container;
    
    this.ctx = this.elem.tagName == ‚ÄúCANVAS‚Äù ? this.elem.getContext(‚Äú2d‚Äù) : false;
    
    this.style = this.elem.style;
    
    this.left = 0;
    
    this.top = 0;
    
    this.width = 0;
    
    this.height = 0;
    
    this.cursor = ‚Äúdefault‚Äù;
    
    this.setup = setup;
    
    this.resize = function () {
    
    var o = this.elem;
    
    this.width = o.offsetWidth;
    
    this.height = o.offsetHeight;
    
    for (this.left = 0, this.top = 0; o != null; o = o.offsetParent) {
    
    this.left += o.offsetLeft;
    
    this.top += o.offsetTop;
    
    }
    
    if (this.ctx) {
    
    this.elem.width = this.width;
    
    this.elem.height = this.height;
    
    }
    
    this.setup.resize && this.setup.resize();
    
    }
    
    this.setCursor = function (type) {
    
    if (type !== this.cursor && ‚Äòontouchstart‚Äô in window === false) {
    
    this.cursor = type;
    
    this.style.cursor = type;
    
    }
    
    }
    
    window.addEventListener(‚Äòresize‚Äô, function () {
    
    ge1doot.screen.resize();
    
    }, false);
    
    !this.setup.resize && this.resize();
    
    }
    
    // ==== unified touch events handler ====
    
    ge1doot.Pointer = function (setup) {
    
    ge1doot.pointer = this;
    
    var self = this;
    
    var body = document.body;
    
    var html = document.documentElement;
    
    this.setup = setup;
    
    this.screen = ge1doot.screen;
    
    this.elem = this.screen.elem;
    
    this.X = 0;
    
    this.Y = 0;
    
    this.Xi = 0;
    
    this.Yi = 0;
    
    this.bXi = 0;
    
    this.bYi = 0;
    
    this.Xr = 0;
    
    this.Yr = 0;
    
    this.startX = 0;
    
    this.startY = 0;
    
    this.scale = 0;
    
    this.wheelDelta = 0;
    
    this.isDraging = false;
    
    this.hasMoved = false;
    
    this.isDown = false;
    
    this.evt = false;
    
    var sX = 0;
    
    var sY = 0;
    
    // prevent default behavior
    
    if (setup.tap) this.elem.onclick = function () { return false; }
    
    if (!setup.documentMove) {
    
    document.ontouchmove = function(e) { e.preventDefault(); }
    
    }
    
    document.addEventListener(‚ÄúMSHoldVisual‚Äù, function(e) { e.preventDefault(); }, false);
    
    if (typeof this.elem.style.msTouchAction != ‚Äòundefined‚Äô) this.elem.style.msTouchAction = ‚Äúnone‚Äù;
    
    this.pointerDown = function (e) {
    
    if (!this.isDown) {
    
    if (this.elem.setCapture) this.elem.setCapture();
    
    this.isDraging = false;
    
    this.hasMoved = false;
    
    this.isDown = true;
    
    this.evt = e;
    
    this.Xr = (e.clientX !== undefined ? e.clientX : e.touches[0].clientX);
    
    this.Yr = (e.clientY !== undefined ? e.clientY : e.touches[0].clientY);
    
    this.X = sX = this.Xr - this.screen.left;
    
    this.Y = sY = this.Yr - this.screen.top + ((html && html.scrollTop) || body.scrollTop);
    
    this.setup.down && this.setup.down(e);
    
    }
    
    }
    
    this.pointerMove = function(e) {
    
    this.Xr = (e.clientX !== undefined ? e.clientX : e.touches[0].clientX);
    
    this.Yr = (e.clientY !== undefined ? e.clientY : e.touches[0].clientY);
    
    this.X = this.Xr - this.screen.left;
    
    this.Y = this.Yr - this.screen.top + ((html && html.scrollTop) || body.scrollTop);
    
    if (this.isDown) {
    
    this.Xi = this.bXi + (this.X - sX);
    
    this.Yi = this.bYi - (this.Y - sY);
    
    }
    
    if (Math.abs(this.X - sX) > 11 || Math.abs(this.Y - sY) > 11) {
    
    this.hasMoved = true;
    
    if (this.isDown) {
    
    if (!this.isDraging) {
    
    this.startX = sX;
    
    this.startY = sY;
    
    this.setup.startDrag && this.setup.startDrag(e);
    
    this.isDraging = true;
    
    } else {
    
    this.setup.drag && this.setup.drag(e);
    
    }
    
    } else {
    
    sX = this.X;
    
    sY = this.Y;
    
    }
    
    }
    
    this.setup.move && this.setup.move(e);
    
    }
    
    this.pointerUp = function(e) {
    
    this.bXi = this.Xi;
    
    this.bYi = this.Yi;
    
    if (!this.hasMoved) {
    
    this.X = sX;
    
    this.Y = sY;
    
    this.setup.tap && this.setup.tap(this.evt);
    
    } else {
    
    this.setup.up && this.setup.up(this.evt);
    
    }
    
    this.isDraging = false;
    
    this.isDown = false;
    
    this.hasMoved = false;
    
    this.setup.up && this.setup.up(this.evt);
    
    if (this.elem.releaseCapture) this.elem.releaseCapture();
    
    this.evt = false;
    
    }
    
    this.pointerCancel = function(e) {
    
    if (this.elem.releaseCapture) this.elem.releaseCapture();
    
    this.isDraging = false;
    
    this.hasMoved = false;
    
    this.isDown = false;
    
    this.bXi = this.Xi;
    
    this.bYi = this.Yi;
    
    sX = 0;
    
    sY = 0;
    
    }
    
    if (‚Äòontouchstart‚Äô in window) {
    
    this.elem.ontouchstart = function (e) { self.pointerDown(e); return false; }
    
    this.elem.ontouchmove = function (e) { self.pointerMove(e); return false; }
    
    this.elem.ontouchend = function (e) { self.pointerUp(e); return false; }
    
    this.elem.ontouchcancel = function (e) { self.pointerCancel(e); return false;}
    
    }
    
    document.addEventListener(‚Äúmousedown‚Äù, function (e) {
    
    if (
    
    e.target === self.elem ||
    
    (e.target.parentNode && e.target.parentNode === self.elem) ||
    
    (e.target.parentNode.parentNode && e.target.parentNode.parentNode === self.elem)
    
    ) {
    
    if (typeof e.stopPropagation != ‚Äúundefined‚Äù) {
    
    e.stopPropagation();
    
    } else {
    
    e.cancelBubble = true;
    
    }
    
    e.preventDefault();
    
    self.pointerDown(e);
    
    }
    
    }, false);
    
    document.addEventListener(‚Äúmousemove‚Äù, function (e) { self.pointerMove(e); }, false);
    
    document.addEventListener(‚Äúmouseup‚Äù, function (e) {
    
    self.pointerUp(e);
    
    }, false);
    
    document.addEventListener(‚Äògesturechange‚Äô, function(e) {
    
    e.preventDefault();
    
    if (e.scale > 1) self.scale = 0.1; else if (e.scale < 1) self.scale = -0.1; else self.scale = 0;
    
    self.setup.scale && self.setup.scale(e);
    
    return false;
    
    }, false);
    
    if (window.navigator.msPointerEnabled) {
    
    var nContact = 0;
    
    var myGesture = new MSGesture();
    
    myGesture.target = this.elem;
    
    this.elem.addEventListener(‚ÄúMSPointerDown‚Äù, function(e) {
    
    if (e.pointerType == e.MSPOINTER_TYPE_TOUCH) {
    
    myGesture.addPointer(e.pointerId);
    
    nContact++;
    
    }
    
    }, false);
    
    this.elem.addEventListener(‚ÄúMSPointerOut‚Äù, function(e) {
    
    if (e.pointerType == e.MSPOINTER_TYPE_TOUCH) {
    
    nContact‚Äì;
    
    }
    
    }, false);
    
    this.elem.addEventListener(‚ÄúMSGestureHold‚Äù, function(e) {
    
    e.preventDefault();
    
    }, false);
    
    this.elem.addEventListener(‚ÄúMSGestureChange‚Äù, function(e) {
    
    if (nContact > 1) {
    
    if (e.preventDefault) e.preventDefault();
    
    self.scale = e.velocityExpansion;
    
    self.setup.scale && self.setup.scale(e);
    
    }
    
    return false;
    
    }, false);
    
    }
    
    if (window.addEventListener) this.elem.addEventListener(‚ÄòDOMMouseScroll‚Äô, function(e) {
    
    if (e.preventDefault) e.preventDefault();
    
    self.wheelDelta = e.detail * 10;
    
    self.setup.wheel && self.setup.wheel(e);
    
    return false;
    
    }, false);
    
    this.elem.onmousewheel = function () {
    
    self.wheelDelta = -event.wheelDelta * .25;
    
    self.setup.wheel && self.setup.wheel(event);
    
    return false;
    
    }
    
    }
    
    // ===== request animation frame =====
    
    window.requestAnimFrame = (function(){
    
    return window.requestAnimationFrame ||
    
    window.webkitRequestAnimationFrame ||
    
    window.mozRequestAnimationFrame ||
    
    window.oRequestAnimationFrame ||
    
    window.msRequestAnimationFrame ||
    
    function( run ){
    
    window.setTimeout(run, 16);
    
    };
    
    })();
    
    imageTransform3D.js
    
    ‚Äúuse strict‚Äù;
    
    var ge1doot = ge1doot || {};
    
    ge1doot.transform3D = {};
    
    /* ==== draw Poly ==== */
    
    ge1doot.transform3D.drawPoly = function () {
    
    this.ctx.beginPath();
    
    this.ctx.moveTo(this.points[0].X, this.points[0].Y);
    
    this.ctx.lineTo(this.points[1].X, this.points[1].Y);
    
    this.ctx.lineTo(this.points[2].X, this.points[2].Y);
    
    this.ctx.lineTo(this.points[3].X, this.points[3].Y);
    
    this.ctx.closePath();
    
    }
    
    /* =============== camera constructor ================= */
    
    ge1doot.transform3D.Camera = function (setup, func) {
    
    ge1doot.camera = this;
    
    this.x = 0;
    
    this.y = 0;
    
    this.z = 0;
    
    this.rx = 0;
    
    this.ry = 0;
    
    this.rz = 0;
    
    this.focalLength = setup.focalLength || 500;
    
    this.easeTranslation = setup.easeTranslation || 0.1;
    
    this.easeRotation = setup.easeRotation || 0.025;
    
    this.enableRx = setup.disableRx ? false : true;
    
    this.enableRy = setup.disableRy ? false : true;
    
    this.enableRz = setup.disableRz ? false : true;
    
    this.cmov = false;
    
    this.cosX = 1;
    
    this.sinX = 0;
    
    this.cosY = 1;
    
    this.sinY = 0;
    
    this.cosZ = 1;
    
    this.sinZ = 0;
    
    this.target = {
    
    over: false,
    
    elem: false,
    
    x: 0,
    
    y: 0,
    
    z: 0,
    
    rx: 0,
    
    ry: 0,
    
    rz: 0
   